#include <stdio.h>
#include <conio.h>
#include <windows.h>
#define a 20

struct toys
{
	char toy1[a];
	int price;
	int age1;
	int age2;
};

int main()
{
	system("chcp 1251>0");
	toys *s;
	char k[a] = "konstructor";
	int n;
	int f = 0, max = 0;
	printf("Введите количество игрушек:");
	scanf_s("%d", &n);
	if (!(s = (toys*)malloc(n * sizeof(toys))))
		return 1;
	for (int i = 0; i < n; i++)
	{
		printf("Введите название %d игрушки:", i + 1);
		rewind(stdin);
		gets_s(s[i].toy1);
		do
		{
			rewind(stdin);
			printf("Введите цену игрушки: ");
		} while (!scanf_s("%d", &s[i].price));
		printf("Введите возрастные ограничения:\n");
		do
		{
			rewind(stdin);
			printf("От: ");
		} while (!scanf_s("%d", &s[i].age1));
		do
		{
			rewind(stdin);		
			printf("До:  ");
		} while (!scanf_s("%d", &s[i].age2));
	}
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < strlen(k); j++)
		{
			if (k[j] == s[i].toy1[j])
				f++;
		}
		if (f == strlen(k))
		{
			if (s[i].price > max)
				max = s[i].price;
		}
		f = 0;
	}
	if (max == 0)
		printf("Игрушки конструктор нет\n");
	else
		printf("Цена самого дорогого конструктора: %d\n", max);
	return 0;
}
